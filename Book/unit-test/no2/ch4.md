# 4장 좋은 단위 테스트의 4대 요소
> 좋은 단위 테스트를 구성하고 이 책 전체에서 사용되는 공통적인 기준틀이 되는 4대 요소를 정의한다.

- 가치 있는 테스트를 식별하는 것과 가치 있는 테스트를 작성하는 것은 별개의 기술이다.
- 가치 있는 테스트를 작성하려면 가치 있는 테스트를 식별할 수 있어야 한다.
- 이번 장에서는 가치 있는 테스트를 식별하는 방법을 알아본다.

## 4.1 좋은 단위 테스트의 4대 요소 자세히 살펴보기
1. 회귀 방지
2. 리팩터링 내성
3. 빠른 피드백
4. 유지 보수성

### 4.1.1 첫 번째 요소: 회귀 방지
- 회귀는 소프트웨어 버그다.
  - 코드를 수정한 후 기능이 의도한 대로 작동하지 않는 경우다.
  - 코드베이스가 커질수록 잠재적인 버그에 더 많이 노출된다.
  - 따라서 회귀에 대해 효과적인 보호를 개발하는 것이 중요하다.
    - 이러한 보호가 없다면 프로젝트가 오랫동안 성장할 수 없으며 점점 더 많은 버그가 쌓일 것이다.

- 회귀 방지 지표에 대한 평가는 다음 사항을 고려해야 한다.
1. 테스트 중에 실행되는 코드의 양
2. 코드 복잡도
3. 코드의 도메인 유의성

일반적으로 실행되는 코드가 많을수록 테스트에서 회귀가 나타날 가능성이 높다.
또한, 코드의 양뿐만 아니라 복잡도와 도메인 유의성도 중요하다.
- 복잡한 비즈니스 로직의 코드가 보일러플레이트 코드보다 훨씬 더 중요하다.
- 비즈니스 버그가 가장 큰 피해를 입히기 때문이다.
- 반면 단순한 코드를 테스트하는 것은 가치가 거의 없다.

> 팁
> - 회귀 방지 지표를 극대화하려면 테스트가 가능한 한 많은 코드를 실행하는 것을 목표로 해야 한다.