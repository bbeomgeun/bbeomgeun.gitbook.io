# 21장 소리치는 아키텍처

> 우리의 어플리케이션 아키텍처를 보고 어떤 시스템이라고 한 눈에 파악할 수 있는가?

## 아키텍처의 테마
- 아키텍처는 프레임워크에 대한 것이 아니다.
- 프레임워크는 사용하는 도구일 뿐, 아키텍처가 준수해야 할 대상이 아니다.
- 유스케이스 중심의 아키텍처를 구성해야 한다.

## 아키텍처의 목적
- 좋은 아키텍처는 유스케이스를 그 중심에 두기 때문에, 프레임워크나 도구/환경에 전혀 구애받지 않고 유스케이스를 지원하는 구조를 아무런 문제 없이 기술할 수 있다.
- 좋은 소프트웨어 아키텍처는 프레임워크, 데이터베이스, 웹 서버 등 여타 개발 환경 문제나 도구에 대해서 **결정을 미룰 수 있도록** 만든다.
- 처음부터 결정해서 의존할 필요도 없고, 나중에 결정을 쉽게 바꿔서 갈아끼울 수 있도록 한다.
- 유스케이스에 중점을 두고, 지엽적인 관심사에 대한 결합은 분리시킨다.
> 도메인 설계에 힘을 쓰자. 다른 프레임워크나 라이브러리를 생각하지 않고 업무 규칙에 대한 데이터와 기능 먼저 설계한다.

## 하지만 웹은
- 웹은 전달 메커니즘이며, 웹을 통해 전달된다는 사실은 세부사항이다. 
- 웹 전달 여부는 나중으로 미루어야 할 결저사항 중 하나로, 실제 스펙에 맞게 구현하고 잘 설계한 로직을 호출만 하면 된다.

## 프레임워크는 도구일 뿐, 삶의 방식은 아니다
- 프레임워크를 사용하되, 프레임워크가 모든 것을 하게 하지 말자.
- 아키텍처를 유스케이스에 중점을 두자.

## 테스트하기 쉬운 아키텍처
- 아키텍처가 유스케이스를 최우선으로 하고, 프레임워크와 적당히 거리를 둔다면 결정을 미룬 사항들에 의존받지 않고 전부 단위 테스트를 할 수 있어야 한다.
- plain old object (자바는 POJO)하게 만들어서, 순수 코드 로직적으로 설계되고 테스트가 가능해야 한다.

## 결론
- 아키텍처를 통해 시스템의 모든 유스케이스를 이해할 수 있어야 한다.

